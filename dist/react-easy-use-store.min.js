!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactEasyUseStore={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);let o={};const f=new class{constructor(){this.subs=[]}addSub(e){this.subs.push(e)}notifySubs(e){this.subs.forEach((t=>t(e)))}onStateChange(){}},u=(e,t)=>{o[e]=t,f.notifySubs(o),f.onStateChange&&f.onStateChange()},i=()=>o;function a(){return{setStore:u,getState:i}}const s=r.default.createContext(null);function c(e,t){let n,r,o,f;function u(e,t){let n;if(isNaN(e)&&isNaN(t)&&"number"==typeof e&&"number"==typeof t)return!0;if(e===t)return!0;if("function"==typeof e&&"function"==typeof t||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return""+e==""+t;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e))return!1;if(e.constructor!==t.constructor)return!1;if(e.prototype!==t.prototype)return!1;if(o.indexOf(e)>-1||f.indexOf(t)>-1)return!1;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1}for(n in e){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1;switch(typeof e[n]){case"object":case"function":if(o.push(e),f.push(t),!u(e[n],t[n]))return!1;o.pop(),f.pop();break;default:if(e[n]!==t[n])return!1}}return!0}if(1>arguments.length)return!0;for(n=1,r=arguments.length;r>n;n++)if(o=[],f=[],!u(arguments[0],arguments[n]))return!1;return!0}function p({store:e,children:n}){const[o,u]=t.useState(null),i=t.useMemo((()=>e.getState()),[e]);return t.useEffect((()=>{f.onStateChange=c(o,i)?()=>{}:()=>u(i)})),r.default.createElement(s.Provider,{value:e},n)}function l(){return l=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function y(...e){return n=>r=>{const o=t.useContext(s).getState(),f={};e.forEach((e=>{f[e]=o[e]}));let u=t.memo(n,(function(e,t){return!!c(t,e)}));return React.createElement(u,l({},r,f))}}var h={createStore:a,connect:y,Provider:p,setStore:u};e.Provider=p,e.connect=y,e.createStore=a,e.default=h,e.setStore=u,Object.defineProperty(e,"__esModule",{value:!0})}));
