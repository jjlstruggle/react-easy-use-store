!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactEasyUseStore={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);const o=()=>{};let f={};const i=new class{constructor(){this.subs=[]}addSub(e){this.subs.push(e)}notifySubs(e){this.subs.forEach((t=>t(e)))}},u=(e,t)=>{Object.assign(f,{[e]:t}),i.notifySubs(f)},s=()=>f;function c(){return{setStore:u,getState:s,notifyProviderUpdate:o}}const a=r.default.createContext(null);function p(e,t){let n,r,o,f;function i(e,t){let n;if(isNaN(e)&&isNaN(t)&&"number"==typeof e&&"number"==typeof t)return!0;if(e===t)return!0;if("function"==typeof e&&"function"==typeof t||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return""+e==""+t;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e))return!1;if(e.constructor!==t.constructor)return!1;if(e.prototype!==t.prototype)return!1;if(o.indexOf(e)>-1||f.indexOf(t)>-1)return!1;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1}for(n in e){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1;switch(typeof e[n]){case"object":case"function":if(o.push(e),f.push(t),!i(e[n],t[n]))return!1;o.pop(),f.pop();break;default:if(e[n]!==t[n])return!1}}return!0}if(1>arguments.length)return!0;for(n=1,r=arguments.length;r>n;n++)if(o=[],f=[],!i(arguments[0],arguments[n]))return!1;return!0}function d({store:e,children:n}){const[o,f]=t.useState(),i=t.useMemo((()=>e.getState()),[e]);return t.useEffect((()=>{e.notifyProviderUpdate=p(o,i)?()=>{}:f}),[o]),r.default.createElement(a.Provider,{value:e},n)}function y(...e){let n={},r=!0;return function(o){const f=t.useContext(a).getState(),i={};e.forEach((e=>{i[e]=f[e]})),p(n,o)&&(r=!1);return t.memo(React.createElement(o,i),(function(){return!r||(n=i,!1)}))}}var l={createStore:c,connect:y,Provider:d,setStore:u};e.Provider=d,e.connect=y,e.createStore=c,e.default=l,e.setStore=u,Object.defineProperty(e,"__esModule",{value:!0})}));
